(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();const M=(e,t,a,s)=>{const n=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),l=document.createElement("img"),i=document.createElement("button"),d=document.createElement("span");return l.src=a,r.innerText=e,d.innerText="$ "+t.toLocaleString("ru"),i.addEventListener("click",()=>{s()}),c.classList.add("catalog-element"),l.classList.add("sneakers-image"),r.classList.add("sneakers-name"),n.classList.add("price-wrapper"),i.classList.add("basket-button"),d.classList.add("price"),c.appendChild(l),c.appendChild(r),c.appendChild(n),n.appendChild(i),n.appendChild(d),c},q=(e,t,a)=>{const s=document.createElement("div"),n=document.createElement("span"),c=document.createElement("span"),r=document.createElement("span"),l=document.createElement("span"),i=document.createElement("span"),d=document.createElement("span"),g=document.createElement("span"),p=document.createElement("span"),u=document.createElement("div"),h=document.createElement("div");e||(t=0,a=0),n.innerText="Subtotal",c.innerText="Tax",r.innerText="Shipping",l.innerText="Total",i.innerText="$ "+e.toLocaleString("ru"),d.innerText="$ "+t.toLocaleString("ru"),g.innerText="$ "+a.toLocaleString("ru");const L=e+t+a;return p.innerText="$ "+L.toLocaleString("ru"),s.appendChild(h),h.append(n,c,r,l),s.appendChild(u),u.append(i,d,g,p),s.classList.add("total"),h.classList.add("total-titles-wrapper"),n.classList.add("subtotal"),c.classList.add("tax"),r.classList.add("shipping"),l.classList.add("total-title"),u.classList.add("total-prices-wrapper"),i.classList.add("subtotal-price"),d.classList.add("tax-price"),g.classList.add("shipping-price"),p.classList.add("total-title-price"),s},I=(e,t,a,s,n,c,r,l)=>{const i=document.createElement("div"),d=document.createElement("div"),g=document.createElement("div"),p=document.createElement("div"),u=document.createElement("span"),h=document.createElement("span"),L=document.createElement("span"),b=document.createElement("span"),C=document.createElement("img"),E=document.createElement("img");return u.innerText="-",h.innerText=n.toString(),L.innerText="+",E.src="src/icons/delete.svg",L.onclick=T=>{T.preventDefault(),c()},u.onclick=T=>{T.preventDefault(),r()},i.id=e.toString(),g.innerHTML=t,b.innerText="$ "+(a*n).toLocaleString("ru"),C.src=s,E.addEventListener("click",()=>{l()}),i.appendChild(C),i.appendChild(d),d.appendChild(g),d.appendChild(p),p.appendChild(u),p.appendChild(h),p.appendChild(L),p.appendChild(b),i.appendChild(E),u.classList.add("minus"),h.classList.add("quantity"),L.classList.add("plus"),E.classList.add("delete-basket-item"),C.classList.add("basket-element-image"),i.classList.add("basket-element"),d.classList.add("basket-item-info-wrapper"),g.classList.add("basket-sneakers-name"),p.classList.add("plus-wrapper"),b.classList.add("price"),i},W=e=>{const t=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),n=document.createElement("input"),c=document.createElement("button"),r=document.createElement("form");return c.addEventListener("click",l=>{l.preventDefault(),e(n.value),console.log(e(n.value)),n.value=""}),a.innerText="Promo code",c.innerText="Apply",n.placeholder="Placeholder Text",t.classList.add("promo"),t.appendChild(a),t.appendChild(s),s.appendChild(r),r.appendChild(n),r.appendChild(c),a.classList.add("promo-title"),n.classList.add("promo-input"),c.classList.add("promo-button"),t},S=document.querySelector(".catalog"),H=document.querySelector(".burger"),P=document.querySelector(".aside");let v=document.querySelector(".basket-list"),y=document.querySelector(".promo-wrapper"),x=document.querySelector(".total-wrapper");const R=["boberchik","bober","bobr"];let f=0,$=document.querySelector(".counter"),D=100,K=150;const O=[{id:1,name:"New Balance 574 Vintage Brights",price:650,src:"src/img/vintage.png",count:1},{id:2,name:"New Balance Made in UK 920 Chinese New Year",price:1200,src:"src/img/chinese.png",count:1},{id:3,name:"New Balance 373 Modern Classics",price:800,src:"src/img/classic.png",count:1},{id:4,name:"New Balance Made in UK 670 Chinese New Year",price:780,src:"src/img/chinese-brown.png",count:1},{id:5,name:"New Balance X-Racer Utility",price:1e3,src:"src/img/racer.png",count:1},{id:6,name:"New Balance 5740 Think Colorfully",price:940,src:"src/img/colorfully.png",count:1}];let o=[{id:1,name:"New Balance 574 Vintage<br>Brights",price:650,src:"src/img/vintage.png",count:1},{id:2,name:"New Balance Made in UK 920 Chinese New Year",price:1200,src:"src/img/chinese.png",count:1}];const U=e=>{o.some(a=>a.id===e.id)?o.forEach(a=>{a.id===e.id&&a.count++,m()}):(o.push({id:e.id,name:e.name,price:e.price,src:e.src,count:e.count}),m()),o.length,m()},Y=e=>{o.forEach(t=>{t.id===e&&(t.count++,m())})},A=e=>{o.forEach((t,a)=>{t.id===e&&(t.count<=1?(delete o[a],m()):(t.count--,k(),N(f),w(),B()))})},V=()=>{O.forEach(e=>{S.appendChild(M(e.name,e.price,e.src,()=>U(e)))})},w=()=>{v.innerHTML="",o.forEach(e=>{v.appendChild(I(e.id,e.name,e.price,e.src,e.count,()=>Y(e.id),()=>A(e.id),()=>X(e.id)))})},F=e=>{R.forEach(t=>{t===e&&(f=300),m()})},k=()=>{y.innerHTML="",y.appendChild(W(F))},B=()=>{$.innerHTML=o.reduce((e,t)=>e+t.count,0).toString()},N=e=>{x.innerHTML="";let t=0;t-=e,o.forEach(a=>{t+=a.price*a.count}),x.appendChild(q(t,D,K))},X=e=>{o=o.filter(t=>t.id!==e),o.length===0&&(f=0),m()},m=()=>{S.innerHTML="",V(),w(),k(),N(f),B()};H.addEventListener("click",()=>{P.classList.toggle("active")});m();

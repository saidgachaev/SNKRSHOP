(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();const M=(e,t,a,r)=>{const n=document.createElement("div"),c=document.createElement("div"),i=document.createElement("div"),l=document.createElement("img"),s=document.createElement("button"),d=document.createElement("span");return l.src=a,i.innerText=e,d.innerText="$ "+t.toLocaleString("ru"),s.addEventListener("click",()=>{r()}),c.classList.add("catalog-element"),l.classList.add("sneakers-image"),i.classList.add("sneakers-name"),n.classList.add("price-wrapper"),s.classList.add("basket-button"),d.classList.add("price"),c.appendChild(l),c.appendChild(i),c.appendChild(n),n.appendChild(s),n.appendChild(d),c},q=(e,t,a)=>{const r=document.createElement("div"),n=document.createElement("span"),c=document.createElement("span"),i=document.createElement("span"),l=document.createElement("span"),s=document.createElement("span"),d=document.createElement("span"),h=document.createElement("span"),p=document.createElement("span"),m=document.createElement("div"),L=document.createElement("div");e||(t=0,a=0),n.innerText="Subtotal",c.innerText="Tax",i.innerText="Shipping",l.innerText="Total",s.innerText="$ "+e.toLocaleString("ru"),d.innerText="$ "+t.toLocaleString("ru"),h.innerText="$ "+a.toLocaleString("ru");const g=e+t+a;return p.innerText="$ "+g.toLocaleString("ru"),r.appendChild(L),L.append(n,c,i,l),r.appendChild(m),m.append(s,d,h,p),r.classList.add("total"),L.classList.add("total-titles-wrapper"),n.classList.add("subtotal"),c.classList.add("tax"),i.classList.add("shipping"),l.classList.add("total-title"),m.classList.add("total-prices-wrapper"),s.classList.add("subtotal-price"),d.classList.add("tax-price"),h.classList.add("shipping-price"),p.classList.add("total-title-price"),r},I=(e,t,a,r,n,c,i,l)=>{const s=document.createElement("div"),d=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),m=document.createElement("span"),L=document.createElement("span"),g=document.createElement("span"),b=document.createElement("span"),C=document.createElement("img"),E=document.createElement("img");return m.innerText="-",L.innerText=n.toString(),g.innerText="+",E.src="../public/delete.svg",g.onclick=T=>{T.preventDefault(),c()},m.onclick=T=>{T.preventDefault(),i()},s.id=e.toString(),h.innerHTML=t,b.innerText="$ "+(a*n).toLocaleString("ru"),C.src=r,E.addEventListener("click",()=>{l()}),s.appendChild(C),s.appendChild(d),d.appendChild(h),d.appendChild(p),p.appendChild(m),p.appendChild(L),p.appendChild(g),p.appendChild(b),s.appendChild(E),m.classList.add("minus"),L.classList.add("quantity"),g.classList.add("plus"),E.classList.add("delete-basket-item"),C.classList.add("basket-element-image"),s.classList.add("basket-element"),d.classList.add("basket-item-info-wrapper"),h.classList.add("basket-sneakers-name"),p.classList.add("plus-wrapper"),b.classList.add("price"),s},W=e=>{const t=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),n=document.createElement("input"),c=document.createElement("button"),i=document.createElement("form");return c.addEventListener("click",l=>{l.preventDefault(),e(n.value),console.log(e(n.value)),n.value=""}),a.innerText="Promo code",c.innerText="Apply",n.placeholder="Placeholder Text",t.classList.add("promo"),t.appendChild(a),t.appendChild(r),r.appendChild(i),i.appendChild(n),i.appendChild(c),a.classList.add("promo-title"),n.classList.add("promo-input"),c.classList.add("promo-button"),t},S=document.querySelector(".catalog"),H=document.querySelector(".burger"),P=document.querySelector(".aside");let v=document.querySelector(".basket-list"),y=document.querySelector(".promo-wrapper"),x=document.querySelector(".total-wrapper");const R=["boberchik","bober","bobr"];let f=0,$=document.querySelector(".counter"),D=100,K=150;const O=[{id:1,name:"New Balance 574 Vintage Brights",price:650,src:"../public/vintage.png",count:1},{id:2,name:"New Balance Made in UK 920 Chinese New Year",price:1200,src:"../public/chinese.png",count:1},{id:3,name:"New Balance 373 Modern Classics",price:800,src:"../public/classic.png",count:1},{id:4,name:"New Balance Made in UK 670 Chinese New Year",price:780,src:"../public/chinese-brown.png",count:1},{id:5,name:"New Balance X-Racer Utility",price:1e3,src:"../public/racer.png",count:1},{id:6,name:"New Balance 5740 Think Colorfully",price:940,src:"../public/colorfully.png",count:1}];let o=[{id:1,name:"New Balance 574 Vintage<br>Brights",price:650,src:"../public/vintage.png",count:1},{id:2,name:"New Balance Made in UK 920 Chinese New Year",price:1200,src:"../public/chinese.png",count:1}];const U=e=>{o.some(a=>a.id===e.id)?o.forEach(a=>{a.id===e.id&&a.count++,u()}):(o.push({id:e.id,name:e.name,price:e.price,src:e.src,count:e.count}),u()),o.length,u()},Y=e=>{o.forEach(t=>{t.id===e&&(t.count++,u())})},A=e=>{o.forEach((t,a)=>{t.id===e&&(t.count<=1?(delete o[a],u()):(t.count--,k(),N(f),w(),B()))})},V=()=>{O.forEach(e=>{S.appendChild(M(e.name,e.price,e.src,()=>U(e)))})},w=()=>{v.innerHTML="",o.forEach(e=>{v.appendChild(I(e.id,e.name,e.price,e.src,e.count,()=>Y(e.id),()=>A(e.id),()=>X(e.id)))})},F=e=>{R.forEach(t=>{t===e&&(f=300),u()})},k=()=>{y.innerHTML="",y.appendChild(W(F))},B=()=>{$.innerHTML=o.reduce((e,t)=>e+t.count,0).toString()},N=e=>{x.innerHTML="";let t=0;t-=e,o.forEach(a=>{t+=a.price*a.count}),x.appendChild(q(t,D,K))},X=e=>{o=o.filter(t=>t.id!==e),o.length===0&&(f=0),u()},u=()=>{S.innerHTML="",V(),w(),k(),N(f),B()};H.addEventListener("click",()=>{P.classList.toggle("active")});u();
